{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/lib/remote-dom/src/local.js","webpack:///./src/lib/worker-manager/index.js","webpack:///./src/remote-dom-client.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","index","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","LocalContainer","constructor","queueIndex","domElement","this","Constants","CONTAINER","containersByQueueAndName","queuesByIndex","elementsByQueue","eventsByQueueAndName","nativeInvocationsByQueue","pendingMessagesByQueue","containerUpdatesObserversByQueue","containerRemoteIdToNameByQueue","win","doc","setWindow","windowObj","document","createContainer","cb","DEFAULT_NAME","res","pendingMessages","applyMessages","serializeEventVal","val","WINDOW","DOCUMENT","Node","QUEUE_INDEX","NODE_INDEX","Array","map","v","generalEventHandler","evtTarget","evtName","ev","evtJSON","extraData","path","EventDOMNodeAttributes","field","filter","x","forEach","node","$value","type","checked","EVENT","preventDefault","createHandleMsgOrQueueWrapper","handler","msg","wasMessageHandled","wrapAll","obj","wrapperFn","keys","reduce","fnName","messageHandlers","[object Object]","Commands","elements","containers","containerRemoteIdToName","containerName","containerRemoteId","createElement","toLowerCase","createTextNode","createComment","createDocumentFragment","appendChild","parentId","childId","insertBefore","parentNodeId","newChildNodeId","referenceNodeId","removeChild","replaceChild","newChildId","oldChildId","setAttribute","removeAttribute","setStyles","style","setStyle","innerHTML","innerText","textContent","firstChild","setValue","pause","play","src","focus","setSelectionRange","addEventListener","events","func","removeEventListener","origFunc","dispatchEvent","evt","CustomEvent","Event","initiated","handleRemoteInit","invokeNative","nativeInvocations","messages","updatedContainers","msgType","containerId","callback","updateRemoteOnInit","registerToWindowChanges","INIT","screen","width","height","deviceXDPI","logicalXDPI","orientation","angle","devicePixelRatio","innerWidth","innerHeight","body","clientWidth","createMessageQueue","channel","timerFunction","Error","queue","MessagesQueue","HEAD","head","BODY","setPipe","WorkerManager","workerURLs","settings","workers","url","Worker","btoa","JSON","stringify","send","message","pid","postMessage","workerBundleURL","getWorkerInstance","id","IS_IN_JSC","webkit","JSBridge","workerInstance","others","isBridgeMode","workerManager","location","href","localQueue","getElementById"],"mappings":"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","file":"js/index.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"index\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-common\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","/* eslint-env browser */\n\nimport {Commands, Constants, MessagesQueue, EventDOMNodeAttributes} from './common';\nclass LocalContainer {\n  constructor (queueIndex, domElement, name) {\n    this.domElement = domElement;\n    this.name = name;\n    this.queueIndex = queueIndex;\n    this.index = Constants.CONTAINER;\n  }\n}\n\nconst containersByQueueAndName = {};\nconst queuesByIndex = {};\nconst elementsByQueue = {};\nconst eventsByQueueAndName = {};\nconst nativeInvocationsByQueue = {};\nconst pendingMessagesByQueue = {};\nconst containerUpdatesObserversByQueue = {};\nconst containerRemoteIdToNameByQueue = {};\n\nlet win = null;\nlet doc = null;\n\nfunction setWindow (windowObj) {\n  win = windowObj;\n  doc = windowObj.document;\n}\n\nif (typeof window !== 'undefined') {\n  setWindow(window);\n}\n\nfunction createContainer (queueIndex, domElement, name, cb) {\n\n  name = name || Constants.DEFAULT_NAME;\n  const res = new LocalContainer(queueIndex, domElement, name);\n  elementsByQueue[queueIndex][Constants.CONTAINER] = domElement;\n  containersByQueueAndName[queueIndex][name] = res;\n  // debugger\n  containerUpdatesObserversByQueue[queueIndex][name] = cb;\n\n  const pendingMessages = pendingMessagesByQueue[queueIndex];\n  pendingMessagesByQueue[queueIndex] = [];\n  applyMessages(queueIndex, pendingMessages);\n\n  return res;\n}\n\nfunction serializeEventVal (queueIndex, val) {\n  if (val === win) {\n    return Constants.WINDOW;\n  } else if (val && val.window === val) {\n    return null;\n  } else if (val === doc) {\n    return Constants.DOCUMENT;\n  } else if (val instanceof win.Node) {\n    return val[Constants.QUEUE_INDEX] === queueIndex ? val[Constants.NODE_INDEX] : null;\n  } else if (val instanceof Array) {\n    return val.map((v) => serializeEventVal(queueIndex, v));\n  } else if (typeof val === 'number' || typeof val === 'string' || typeof val === 'boolean') {\n    return val;\n  } else if (typeof val === 'function') {\n    return null;\n  }\n  return val;\n}\n\nfunction generalEventHandler (queueIndex, evtTarget, evtName, ev) {\n  const evtJSON = {extraData: {}};\n  const path = ev.path || EventDOMNodeAttributes.map((field) => ev[field]).filter((x) => x);\n  path.forEach(node => {\n    evtJSON.extraData[serializeEventVal(queueIndex, node)] = {\n      $value: node.value,\n      type: node.type,\n      checked: node.checked\n    };\n  });\n\n  for (let field in ev) {\n\n    if(ev.hasOwnProperty(field)){// only clone own property\n      evtJSON[field] = serializeEventVal(queueIndex, ev[field]);\n    }\n  }\n\n  queuesByIndex[queueIndex].push([Constants.EVENT, evtTarget, evtName, evtJSON]);\n \n  if (evtName === 'submit') {\n    ev.preventDefault();\n  }\n}\n\nfunction createHandleMsgOrQueueWrapper (handler) {\n  return (queueIndex, msg) => {\n    const wasMessageHandled = handler(queueIndex, msg);\n\n    if (!wasMessageHandled) {\n      pendingMessagesByQueue[queueIndex].push(msg);\n    }\n  };\n}\n\nfunction wrapAll (obj, wrapperFn) {\n  return Object.keys(obj).reduce((res, fnName) => {\n    res[fnName] = wrapperFn(obj[fnName]);\n    return res;\n  }, {});\n}\n\nconst messageHandlers = wrapAll({\n  [Commands.createContainer]: (queueIndex, msg) => {\n\n    const elements = elementsByQueue[queueIndex];\n    const containers = containersByQueueAndName[queueIndex];\n    const containerRemoteIdToName = containerRemoteIdToNameByQueue[queueIndex];\n    const containerName = msg[2];\n    const containerRemoteId = msg[1];\n    containerRemoteIdToName[containerRemoteId] = containerName;\n    if (containers[containerName]) {\n      elements[containerRemoteId] = containers[containerName].domElement;\n      return true;\n    }\n\n    return false;\n  },\n  [Commands.createElement]: (queueIndex, msg) => {\n    const elements = elementsByQueue[queueIndex];\n    elements[msg[1]] = doc.createElement(msg[2].toLowerCase());\n    elements[msg[1]][Constants.QUEUE_INDEX] = queueIndex;\n    elements[msg[1]][Constants.NODE_INDEX] = msg[1];\n\n    return true;\n  },\n  [Commands.createTextNode]: (queueIndex, msg) => {\n    const elements = elementsByQueue[queueIndex];\n    elements[msg[1]] = doc.createTextNode(msg[2]);\n    elements[msg[1]][Constants.QUEUE_INDEX] = queueIndex;\n    elements[msg[1]][Constants.NODE_INDEX] = msg[1];\n    return true;\n  },\n  [Commands.createComment]: (queueIndex, msg) => {\n    const elements = elementsByQueue[queueIndex];\n    elements[msg[1]] = doc.createComment(msg[2]);\n    elements[msg[1]][Constants.QUEUE_INDEX] = queueIndex;\n    elements[msg[1]][Constants.NODE_INDEX] = msg[1];\n    return true;\n  },\n  [Commands.createDocumentFragment]: (queueIndex, msg) => {\n    const elements = elementsByQueue[queueIndex];\n    elements[msg[1]] = doc.createDocumentFragment(msg[2]);\n    return true;\n  },\n  [Commands.appendChild]: (queueIndex, msg) => {\n\n    const elements = elementsByQueue[queueIndex];\n    const parentId = msg[1];\n    const childId = msg[2];\n\n    if (elements[parentId]) {\n      elements[parentId].appendChild(elements[childId]);\n      return true;\n    }else {\n      elements[Constants.CONTAINER].appendChild(elements[childId]);  \n      return true;\n    }\n\n    return false;\n  },\n  [Commands.insertBefore]: (queueIndex, msg) => {\n    const elements = elementsByQueue[queueIndex];\n    const parentNodeId = msg[1];\n    const newChildNodeId = msg[2];\n    const referenceNodeId = msg[3];\n\n    if (elements[parentNodeId]) {\n      elements[parentNodeId].insertBefore(elements[newChildNodeId], referenceNodeId ? elements[referenceNodeId] : null);\n      return true;\n    }else{\n        elements[Constants.CONTAINER].appendChild(elements[newChildNodeId]); \n        return true; \n    }\n\n    return false;\n  },\n  [Commands.removeChild]: (queueIndex, msg) => {\n    const elements = elementsByQueue[queueIndex];\n    const parentId = msg[1];\n    const childId = msg[2];\n\n    if (elements[parentId] && elements[childId]) {\n      elements[parentId].removeChild(elements[childId]);\n      return true;\n    }else{\n      elements[Constants.CONTAINER].removeChild(elements[childId]); \n      return true; \n    }\n\n    return false;\n  },\n  [Commands.replaceChild]: (queueIndex, msg) => {\n    const elements = elementsByQueue[queueIndex];\n    const parentId = msg[1];\n    const newChildId = msg[2];\n    const oldChildId = msg[3];\n\n    if (elements[parentId] && elements[newChildId] && elements[oldChildId]) {\n      elements[parentId].replaceChild(elements[newChildId], elements[oldChildId]);\n      return true;\n    }else{\n      elements[Constants.CONTAINER].replaceChild(elements[newChildId], elements[oldChildId]);\n      return true;  \n    }\n\n    return false;\n  },\n  [Commands.setAttribute]: (queueIndex, msg) => {\n\n    const elements = elementsByQueue[queueIndex];\n\n    if (elements[msg[1]]) {\n      elements[msg[1]].setAttribute(msg[2], msg[3]);\n      return true;\n    }\n\n    return false;\n  },\n  [Commands.removeAttribute]: (queueIndex, msg) => {\n    const elements = elementsByQueue[queueIndex];\n\n    if (elements[msg[1]]) {\n      elements[msg[1]].removeAttribute(msg[2]);\n      return true;\n    }\n\n    return false;\n  },\n  [Commands.setStyles]: (queueIndex, msg) => {\n    const elements = elementsByQueue[queueIndex];\n\n    if (elements[msg[1]]) {\n      elements[msg[1]].style = msg[2];\n      return true;\n    }\n\n    return false;\n  },\n  [Commands.setStyle]: (queueIndex, msg) => {\n    const elements = elementsByQueue[queueIndex];\n\n    if (elements[msg[1]]) {\n      elements[msg[1]].style[msg[2]] = msg[3];\n      return true;\n    }\n\n    return false;\n  },\n  [Commands.innerHTML]: (queueIndex, msg) => {\n    // debugger\n    const elements = elementsByQueue[queueIndex];\n\n    if (elements[msg[1]]) {\n      elements[msg[1]].innerHTML = msg[2];\n      return true;\n    }\n\n    return false;\n  },\n  [Commands.innerText]: (queueIndex, msg) => {\n    const elements = elementsByQueue[queueIndex];\n\n    if (elements[msg[1]]) {\n      elements[msg[1]].innerText = msg[2];\n      return true;\n    }\n\n    return false;\n  },\n  [Commands.textContent]: (queueIndex, msg) => {\n    const elements = elementsByQueue[queueIndex];\n\n    if (elements[msg[1]]) {\n      elements[msg[1]].textContent = msg[2];\n      if (msg[3]) {\n        elements[msg[3]] = elements[msg[1]].firstChild;\n      }\n      return true;\n    }\n    return false;\n  },\n  [Commands.setValue]: (queueIndex, msg) => {\n    const elements = elementsByQueue[queueIndex];\n    if (elements[msg[1]]) {\n    elements[msg[1]].value = msg[2];\n      return true;\n    }\n    return false;\n  },\n  [Commands.pause]: (queueIndex, msg) => {\n    const elements = elementsByQueue[queueIndex];\n    if (elements[msg[1]]) {\n    elements[msg[1]].pause();\n      return true;\n    }\n    return false;\n  },\n  [Commands.play]: (queueIndex, msg) => {\n    const elements = elementsByQueue[queueIndex];\n    if (elements[msg[1]]) {\n    elements[msg[1]].play();\n      return true;\n    }\n    return false;\n  },\n  [Commands.src]: (queueIndex, msg) => {\n    const elements = elementsByQueue[queueIndex];\n    if (elements[msg[1]]) {\n    elements[msg[1]].src = msg[2];\n      return true;\n    }\n    return false;\n  },\n  [Commands.focus]: (queueIndex, msg) => {\n    const elements = elementsByQueue[queueIndex];\n    if (elements[msg[1]]) {\n      elements[msg[1]].focus();\n      return true;\n    }\n    return false;\n  },\n  [Commands.setSelectionRange]: (queueIndex, msg) => {\n    const elements = elementsByQueue[queueIndex];\n    if (elements[msg[1]]) {\n      elements[msg[1]].setSelectionRange(msg[2], msg[3], msg[4]);\n      return true;\n    }\n    return false;\n  },\n  [Commands.addEventListener]: (queueIndex, msg) => {\n    const elements = elementsByQueue[queueIndex];\n    const events = eventsByQueueAndName[queueIndex];\n\n    if (elements[msg[1]]) {\n      const func = generalEventHandler.bind(null, queueIndex, msg[1], msg[2]);\n      events[msg[2]] = events[msg[2]] || {};\n      events[msg[2]][msg[3]] = func;\n      elements[msg[1]].addEventListener(msg[2], func, msg[4]);\n      return true;\n    }\n\n    return false;\n  },\n  [Commands.removeEventListener]: (queueIndex, msg) => {\n    const elements = elementsByQueue[queueIndex];\n    const events = eventsByQueueAndName[queueIndex];\n\n    if (elements[msg[1]]) {\n      events[msg[2]] = events[msg[2]] || {};\n      const origFunc = events[msg[2]][msg[3]];\n      elements[msg[1]].removeEventListener(msg[2], origFunc);\n      return true;\n    }\n\n    return false;\n  },\n  [Commands.dispatchEvent]: (queueIndex, msg) => {\n    const elements = elementsByQueue[queueIndex];\n\n    if (elements[msg[1]]) {\n      const evt = msg[4] ? new win.CustomEvent(msg[2], msg[3]) : new win.Event(msg[2], msg[3]);\n      elements[msg[1]].dispatchEvent(evt);\n      return true;\n    }\n\n    return false;\n  },\n  [Commands.initiated]: (queueIndex) => {\n    handleRemoteInit(queueIndex);\n  },\n  [Commands.invokeNative]: (queueIndex, msg) => {\n    const elements = elementsByQueue[queueIndex];\n    const nativeInvocations = nativeInvocationsByQueue[queueIndex];\n\n    if (elements[msg[1]]) {\n      if (nativeInvocations[msg[2]]) {\n        nativeInvocations[msg[2]](elements[msg[1]], msg[3]);\n      }\n      return true;\n    }\n\n    return false;\n  }\n}, createHandleMsgOrQueueWrapper);\n\nfunction applyMessages (queueIndex, messages) {\n  // console.log(messages,'messages')\n  const updatedContainers = {};\n  messages.forEach(msg => {\n    const msgType = msg[0];\n    messageHandlers[msgType](queueIndex, msg);\n    const containerId = msg[msg.length-1];\n    if (containerId) {\n      // debugger;\n      const name = containerRemoteIdToNameByQueue[queueIndex][containerId];\n      if (name) {\n        updatedContainers[name] = true;\n      }\n    }\n  });\n  Object.keys(updatedContainers).forEach(name => {\n    const callback = containerUpdatesObserversByQueue[queueIndex][name];\n    callback && callback();\n  });\n}\n\nfunction handleRemoteInit (queueIndex) {\n  updateRemoteOnInit(queueIndex);\n  registerToWindowChanges(() => updateRemoteOnInit(queueIndex));\n}\n\nfunction updateRemoteOnInit(queueIndex) {\n  queuesByIndex[queueIndex].push([Constants.INIT, {\n    WINDOW: {\n      screen: {\n        width: win.screen.width,\n        height: win.screen.height,\n        deviceXDPI: win.screen.deviceXDPI,\n        logicalXDPI: win.screen.logicalXDPI,\n        orientation: {\n          angle: win.screen.orientation && win.screen.orientation.angle,\n          type: win.screen.orientation && win.screen.orientation.type\n        }\n      },\n      devicePixelRatio: win.devicePixelRatio,\n      innerWidth: win.innerWidth,\n      innerHeight: win.innerHeight\n    },\n    DOCUMENT: {\n      body: {\n        clientWidth: doc.body.clientWidth\n      }\n    }\n  }]);\n}\n\nfunction registerToWindowChanges (callback) {\n  win.addEventListener('orientationchange', callback);\n  win.addEventListener('resize', callback);\n}\n\nfunction createMessageQueue (channel, timerFunction, nativeInvocations) {\n  if (!win) {\n    throw new Error('Please setWindow before create message queues');\n  }\n  const queue = new MessagesQueue();\n  const queueIndex = queue.index;\n  queuesByIndex[queueIndex] = queue;\n  containersByQueueAndName[queueIndex] = {};\n  containerUpdatesObserversByQueue[queueIndex] = {};\n  containerRemoteIdToNameByQueue[queueIndex] = {};\n  elementsByQueue[queueIndex] = {};\n  nativeInvocationsByQueue[queueIndex] = nativeInvocations || {};\n  pendingMessagesByQueue[queueIndex] = [];\n  elementsByQueue[queueIndex][Constants.DOCUMENT] = doc;\n  elementsByQueue[queueIndex][Constants.WINDOW] = win;\n  elementsByQueue[queueIndex][Constants.HEAD] = doc.head;\n  elementsByQueue[queueIndex][Constants.BODY] = doc.body;\n\n  eventsByQueueAndName[queueIndex] = {};\n  queue.setPipe(channel, applyMessages.bind(null, queueIndex), timerFunction);\n  return queueIndex;\n}\n\nexport {\n  createContainer,\n  createMessageQueue,\n  setWindow\n};\n","/**\n * @description worker管理类，方便涉及多进程执行类\n */\nimport WorkerData from './worker-data';\nexport default class WorkerManager {\n    constructor (workerURLs: Array<string>, settings:JSON){\n        this.workers = workerURLs.map((url)=>new Worker(url+\"?bom=\"+btoa(JSON.stringify(settings))));\n    }\n    send (message: WorkerData){\n        this.workers[message.pid].postMessage(message.data);\n    }\n    create (workerBundleURL: string) {\n        //TODO: 去重\n        this.workers.push(\n            new Worker(workerBundleURL)\n        );\n    }\n    getWorkerInstance(id: number){\n        return this.workers[id]\n    }\n}","import {createMessageQueue, createContainer} from './lib/remote-dom/src/local.js';\nimport WorkerManager from './lib/worker-manager';\n\nconst IS_IN_JSC = window.webkit && window.webkit.messageHandlers.JSBridge;\n\nif (!IS_IN_JSC) {\n    /*****get worker instance */\n    var workerManager = new WorkerManager(['./worker.js'],{\n        url: location.href\n    });\n\n    var workerInstance = workerManager.getWorkerInstance(0);\n\n    /*****get worker instance */\n} else {\n    var workerInstance = {\n        postMessage: function (message, others) {\n            window.webkit.messageHandlers.JSBridge.postMessage(message, others)\n        },\n        isBridgeMode: true,\n        addEventListener: window.addEventListener.bind(window)\n    };\n}\nvar localQueue = createMessageQueue(workerInstance, null, {});\nvar container = createContainer(localQueue, document.getElementById('app'));\n"],"sourceRoot":""}